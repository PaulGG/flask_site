{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block extended_content %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
            <div class="alert alert-success" role="alert">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <h1>Hello there</h1>
    {% if current_user.is_authenticated %} 
    <div class="row">
            <div class="col-md-4">
                {{ wtf.quick_form(form) }}
            </div>
        </div>
    <!--
<form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.post_box.label }}<br>
            {{ form.post_box(cols="50", rows="5") }}
            {% for error in form.post_box.errors %}
            <span class="text-danger">
                {{ error }}
            </span>
        {% endfor %}
        </p>
        <p>
            {{ form.submit }}
        </p>
    </form>
    -->
    
    {% else %}
    <h4>To make a post, please login.</h4>
    {% endif %}
    {% for post in posts %}
    <p>
        <b><i>{{ post.author.username }}</i> says <i>{{ moment(post.timestamp).calendar() }}</i>:</b><br>
        {{ post.body }}
    </p>    
    {% endfor %}
{% endblock %}

